* Demonstrates error with shadow-cljs and nodejs
** Compile app =shadow-cljs watch bug-test=
** Start node app =node out/bug-test/main.js=
** Open repl =shadow-cljs cljs-repl bug-test=
** Switch to ns =(in-ns 'mattsum.bug-test.core)=
** Restart node app - CTRL+C, =node out/bug-test/main.js=
** Get the following output:
#+BEGIN_SRC clojure
failed to process message {:type :repl/init, :repl-state {:shadow.cljs.repl/repl-state true, :current {:cache-key [1520715537000], :ns-info {:rename-mac[42/633] :renames {}, :meta {}, :use-macros nil, :excludes #{}, :name mattsum.bug-test.core, :imports nil, :requires {cljs.core cljs.core, goog goog}, :seen #{}, :uses nil, :require-macros {cljs.core cljs.core}, :cljc false, :js-deps {}, :deps [goog cljs.core]}, :ns mattsum.bug-test.core, :output-name "mattsum.bug_test.core.js", :file #object[java.io.File 0x306db3a0 "/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/src/mattsum/bug_test/core.cljs"], :resource-id [:shadow.build.classpath/resource "mattsum/bug_test/core.cljs"], :resource-name "mattsum/bug_test/core.cljs", :type :cljs, :last-modified 1520715537000, :requires #{cljs.core goog}, :macro-requires #{cljs.core}, :url #object[java.net.URL 0x3eaa5bdd "file:/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/src/mattsum/bug_test/core.cljs"], :provides #{mattsum.bug-test.core}, :deps [goog cljs.core]}, :reader-features #{:cljs}, :repl-sources [{:resource-id [:shadow.build.classpath/resource "goog/base.js"], :type :goog, :resource-name "goog/base.js", :output-name "goog.base.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/debug/error.js"], :type :goog, :resource-name "goog/debug/error.js", :output-name "goog.debug.error.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/dom/nodetype.js"], :type :goog, :resource-name "goog/dom/nodetype.js", :output-name "goog.dom.nodetype.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/string/string.js"], :type :goog, :resource-name "goog/string/string.js", :output-name "goog.string.string.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/asserts/asserts.js"], :type :goog, :resource-name "goog/asserts/asserts.js", :output-name "goog.asserts.asserts.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/reflect/reflect.js"], :type :goog, :resource-name "goog/reflect/reflect.js", :output-name "goog.reflect.reflect.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/math/long.js"], :type :goog, :resource-name "goog/math/long.js", :output-name "goog.math.long.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/math/integer.js"], :type :goog, :resource-name "goog/math/integer.js", :output-name "goog.math.integer.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/object/object.js"], :type :goog, :resource-name "goog/object/object.js", :output-name "goog.object.object.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/array/array.js"], :type :goog, :resource-name "goog/array/array.js", :output-name "goog.array.array.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/structs/structs.js"], :type :goog, :resource-name "goog/structs/structs.js", :output-name "goog.structs.structs.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/functions/functions.js"], :type :goog, :resource-name "goog/functions/functions.js", :output-name "goog.functions.functions.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/math/math.js"], :type :goog, :resource-name "goog/math/math.js", :output-name "goog.math.math.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/iter/iter.js"], :type :goog, :resource-name "goog/iter/iter.js", :output-name "goog.iter.iter.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/structs/map.js"], :type :goog, :resource-name "goog/structs/map.js", :output-name "goog.structs.map.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/uri/utils.js"], :type :goog, :resource-name "goog/uri/utils.js", :output-name "goog.uri.utils.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/uri/uri.js"], :type :goog, :resource-name "goog/uri/uri.js", :output-name "goog.uri.uri.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "goog/string/stringbuffer.js"], :type :goog, :resource-name "goog/string/stringbuffer.js", :output-name "goog.string.stringbuffer.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "cljs/core.cljs"], :type :cljs, :resource-name "cljs/core.cljs", :output-name "cljs.core.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "clojure/walk.cljs"], :type :cljs, :resource-name "clojure/walk.cljs", :output-name "clojure.walk.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "cljs/spec/gen/alpha.cljs"], :type :cljs, :resource-name "cljs/spec/gen/alpha.cljs", :output-name "cljs.spec.gen.alpha.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "clojure/string.cljs"], :type :cljs, :resource-name "clojure/string.cljs", :output-name "clojure.string.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "cljs/spec/alpha.cljs"], :type :cljs, :resource-name "cljs/spec/alpha.cljs", :output-name "cljs.spec.alpha.js", :from-jar true} {:resource-id [:shadow.build.classpath/resource "cljs/repl.cljs"], :type :cljs, :resource-name "cljs/repl.cljs", :output-name "cljs.repl.js", :from-jar true} {:resource-id [:shadow.cljs.repl/resource "cljs/user.cljs"], :type :cljs, :resource-name "cljs/user.cljs", :output-name "cljs.user.js"}], :repl-actions [{:type :repl/set-ns, :ns mattsum.bug-test.core, :name nil}]}} { Error: No reader function for tag object.
    at new cljs$core$ExceptionInfo (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/core.cljs:10842:11)
    at Function.cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3 (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/core.cljs:10869:1)
    at Function.cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2 (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/core.cljs:10872:16)
    at Function.cljs.tools.reader.impl.errors.throw_ex.cljs$core$IFn$_invoke$arity$variadic (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-[1/633]ilds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/impl/errors.cljs:37:12)
    at Function.cljs.tools.reader.impl.errors.reader_error.cljs$core$IFn$_invoke$arity$variadic (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/impl/errors.cljs:43:4)
    at Object.cljs$tools$reader$impl$errors$throw_unknown_reader_tag [as throw_unknown_reader_tag] (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/impl/errors.cljs:227:4)
    at cljs$tools$reader$edn$read_tagged (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/edn.cljs:374:10)
    at /mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/edn.cljs:72:21
    at cljs$tools$reader$edn$read_dispatch (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs.tools.reader.edn.js:118:3)
    at Object.cljs$tools$reader$edn$read_delimited [as read_delimited] (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/edn.cljs:176:25)
  message: 'No reader function for tag object.',
  data:
   { meta: null,
     cnt: 2,
     arr: [ [Object], [Object], [Object], [Object] ],
     __hash: null,
     'cljs$lang$protocol_mask$partition0$': 16647951,
     'cljs$lang$protocol_mask$partition1$': 139268 },
  cause: null,
  name: 'Error',
  description: undefined,
  number: undefined,
  fileName: undefined,
  lineNumber: undefined,
  columnNumber: undefined,
  stack: 'Error: No reader function for tag object.\n    at new cljs$core$ExceptionInfo (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/core.cljs:10842:11)\n    at Function.cljs.core.ex_info.cljs$core$IFn$_invoke$arity$3 (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/core.cljs:10869:1)\n    at Function.cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2 (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/core.cljs:10872:16)\n    at Function.cljs.tools.reader.impl.errors.throw_ex.cljs$core$IFn$_invoke$arity$variadic (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/impl/errors.cljs:37:12)\n    at Function.cljs.tools.reader.impl.errors.reader_error.cljs$core$IFn$_invoke$arity$variadic (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/impl/errors.cljs:43:4)\n    at Object.cljs$tools$reader$impl$errors$throw_unknown_reader_tag [as throw_unknown_reader_tag] (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/impl/errors.cljs:227:4)\n    at cljs$tools$reader$edn$read_tagged (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/edn.cljs:374:10)\n    at /mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/edn.cljs:72:21\n    at cljs$tools$reader$edn$read_dispatch (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs.tools.reader.edn.js:118:3)\n    at Object.cljs$tools$reader$edn$read_delimited [as read_delimited] (/mnt/c/Users/matthys/projects/mattsum/cljs-node-bug/.shadow-cljs/builds/bug-test/dev/out/cljs-runtime/cljs/tools/reader/edn.cljs:176:25)' }
#+END_SRC
